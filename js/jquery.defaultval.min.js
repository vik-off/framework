(function($){
	$.fn.defaultVal = function(options){
	
		options = $.extend({
			focusColor: '#000000',		 // цвет текста при фокусе
			blurColor: '#999999',		 // цвет текста без фокуса
			emptyToDefaultOnBlur: true,	 // преобразовывать пустое значение в дефолтное при потере фокуса
			defaultToEmptyOnSubmit: true // преобразовывать дефолтное значение в пустое при отправке формы
		}, options);
		
		this.each(function(){
		
			var trg = $(this);
			var startval = trg.val();
			
			if(!startval.length)
				return;
				
			trg.data('defaultVal', startval);
			trg.data('virginity', true);
			trg.css('color', options.blurColor);
			
			// FOCUS
			trg.focus(function(){
				$(this).css('color', options.focusColor);
				$(this).data('virginity', false);
				if($(this).val() == $(this).data('defaultVal'))
					$(this).val('');
			});
			
			// BLUR
			if(options.emptyToDefaultOnBlur){
				trg.blur(function(){
					if($(this).val() == ''){
						$(this).data('virginity', true);
						$(this).val($(this).data('defaultVal'));
						$(this).css('color', options.blurColor);
					}
				});
			}
			
			// FORM SUBMIT
			if(options.defaultToEmptyOnSubmit && $(trg[0].form).length){
				$(trg[0].form).submit(function(){
					if(trg.data('virginity')){
						trg.val('');
					}
				});
			}
			
		});
		return this;
	}
})(jQuery);